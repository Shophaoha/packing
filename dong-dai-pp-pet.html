<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đóng đai PP/PET - Shop Hảo Hà</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
            padding-top: 70px;
        }
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 98%;
            background-color: #cde0e9;
            border-bottom: 2px solid #ddd;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
        }
        .logo {
            display: flex;
            align-items: center;
        }
        .logo img {
            width: 50px;
            height: 50px;
            margin-right: 10px;
        }
        .nav {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .nav a {
            text-decoration: none;
            color: black;
            font-size: 16px;
            font-weight: bold;
            padding: 10px;
        }
        .nav a:hover {
            color: #d9534f;
        }
        .dropdown {
            position: relative;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            background-color: white;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            min-width: 200px;
            text-align: left;
            z-index: 10;
        }
        .dropdown-content a {
            display: block;
            padding: 10px;
            color: black;
            text-decoration: none;
        }
        .dropdown-content a:hover {
            background-color: #f1f1f1;
        }
        .dropdown:hover .dropdown-content {
            display: block;
        }
        .dropdown::after {
            content: '\25BC';
            font-size: 12px;
            margin-left: -10px;
        }
        .cart-icon {
            display: none;
        }
        .banner {
            width: 100%;
            height: 570px;
            background-attachment: fixed;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .about h2 {
            text-align: center;
            width: 100%;
        }
        .marquee {
            background-color: #ffcc00;
            padding: 10px;
            font-size: 18px;
            font-weight: bold;
            color: black;
            white-space: nowrap;
            overflow: hidden;
        }
        .marquee span {
            display: inline-block;
            animation: marquee 10s linear infinite;
        }
        @keyframes marquee {
            from { transform: translateX(100%); }
            to { transform: translateX(-100%); }
        }
        .dropdown {
            position: relative;
        }
        .about {
            max-width: 848px;
            margin: 40px auto;
            text-align: left;
        }
        .category {
            /* ... (các style khác của bạn) ... */
            border: 1px solid #ddd; /* Thêm viền cho mỗi mục */
            border-radius: 8px; /* Bo tròn góc viền (tùy chọn) */
            padding: 10px; /* Thêm padding để tạo khoảng cách giữa viền và nội dung */
            border: 3px solid #00ff00;    
            
        }
        .category a p {
            font-size: 18px; /* Tăng kích thước chữ */
            font-weight: bold; /* Làm chữ đậm */
            color: #42719c; /* Chọn màu chữ (tùy chọn) */
            margin-top: 10px; /* Thêm khoảng cách với hình ảnh (tùy chọn) */
            text-decoration: none;
        }
        .category-section {
            max-width: 1200px;
            margin: 40px auto;
            text-align: center;
        }
        .categories {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .category:hover {
            transform: translateY(-5px); /* Di chuyển phần tử lên 5px khi hover */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            opacity: 0.7;
        }
        .category img {
            width: 220px;
            height: auto;
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .view-now {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7); /* Màu nền đen mờ */
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            opacity: 0; /* Ẩn chữ "Xem ngay" ban đầu */
        }

        .category:hover .view-now {
            opacity: 1; /* Hiển thị chữ "Xem ngay" khi hover */
        }

        .features {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* Chia làm 2 cột */
            gap: 20px;
            margin: 40px auto;
            max-width: 800px;
        }

        .feature-box {
            display: flex;
            align-items: center;
            background: #f9f9f9;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-box:hover {
            transform: translateY(-5px);
            box-shadow: 0px 6px 15px rgba(0, 0, 0, 0.15);
        }

        .icon {
            font-size: 30px;
            margin-right: 15px;
        }

        .feature-box h3 {
            font-size: 18px;
            margin: 0;
            color: #d9534f;
        }

        .feature-box p {
            font-size: 14px;
            color: #555;
            margin: 5px 0 0;
        }
        .menu-toggle {
            display: none;
            font-size: 30px;
            cursor: pointer;
            background: none;
            border: none;
        }
        
        .nav.show {
            display: flex;
        }

        @media (max-width: 600px) {
            .features {
                grid-template-columns: 1fr;
            }
        }
        @media (max-width: 768px) { /* Thay đổi 768px thành kích thước phù hợp */
            .category {
                width: 38%; /* Hoặc một giá trị phần trăm phù hợp */
                margin-bottom: 20px; /* Thêm khoảng cách giữa các hàng (tùy chọn) */
                margin-right: 20px;
            }
            .categories {
                justify-content: center; /* Căn giữa các mục khi xuống hàng */
            }
            .header {
                padding: 10px; /* Giảm padding */
                display: flex;
                justify-content: flex-start; /* Căn trái */
                align-items: center;
            }
            .logo img {
                width: 40px; /* Giảm kích thước logo */
                height: 40px;
            }
            .logo h2 {
                font-size: 1.2em; /* Giảm kích thước phông chữ */
            }
            .nav {
                display: none; /* Ẩn menu điều hướng */
                flex-direction: column;
                position: absolute;
                top: 60px;
                left: 0;
                background: white;
                width: 200px;
                box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
                padding: 10px;
            }

            .nav a {
                display: block;
                padding: 10px;
                text-align: left;
            }
            .menu-toggle {
                display: block; /* Hiển thị nút menu trên mobile */
                margin-right: 20px;
            }
            .banner {
                width: 100%;
                height: 300px; /* Giảm chiều cao banner */
                height: 150%;
            }
            .nav.show {
                display: flex;
            }
            .dropdown-content {
                position: absolute;
                top: 0;
                right: -200px; /* Đảm bảo menu con cũng nằm bên trái */
                background: white;
                width: 200px; /* Độ rộng menu con */
                min-height: 100%;
                box-shadow: -2px 0px 10px rgba(0, 0, 0, 0.2); /* Đổ bóng bên trái */
                display: none; /* Mặc định ẩn */
            }
            .dropdown:hover .dropdown-content {
                display: block; /* Hiển thị khi hover */
            }

            .dropdown-content a {
                display: block;
                padding: 10px;
                text-align: left;
            }
        } 
        @media (max-width: 576px) {
            .category {
                width: 60%; /* Mỗi mục chiếm toàn bộ chiều rộng */
            }
        }
        .banner {
            width: 100%;
            height: 570px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            background: url('bìa hảo hà (1).png') no-repeat center/cover;
        }
        .banner h1 {
            position: absolute;
            font-size: 36px;
            color: white;
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
        }
        .content {
            max-width: 1300px;
            margin: 40px auto;
            text-align: left;
        }
        .section {
            margin-bottom: 30px;
        }
        .section h2 {
            background-color: #f8f8f8;
            padding: 10px;
            border-left: 5px solid #d9534f;
        }
        .items {
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-start;
            gap: 40px;
        }
        .item {
            position: relative;
            width: 20%;
            padding: 10px;
            border: 1px solid #ddd;
            text-align: center;
            background-color: #fff;
            transition: transform 0.3s ease-in-out;
            cursor: pointer;
        }
        .item a {
            text-decoration: none; /* Bỏ gạch chân của thẻ <a> */
            color: inherit; /* Giữ nguyên màu chữ */
            user-select: none;
        }

        .item img {
            width: 100%;
            min-width: 50px;
            height: auto;
            object-fit: contain;
            border: 1px solid #ddd;
            background: #f8f8f8;
            transition: filter 0.3s ease-in-out;
        }

        .item:hover img {
            filter: brightness(70%) blur(0.5px); /* Làm mờ và tối hình ảnh */
        }

        .overlay {
            position: absolute;
            top: 42%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: none;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
            border: 2px solid white;
            pointer-events: none;
        }

        .item img:hover + .overlay {
            opacity: 1;
        }

        .item p {
            margin: 5px 0;
            pointer-events: none; /* Ngăn không cho bấm vào chữ */
            user-select: none;
        }

        .item .price {
            color: red;
            font-weight: bold;
            
        }
        .item:hover .overlay {
            opacity: 1;
        }



        .button {
            background-color: #d9534f;
            color: white;
            padding: 8px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            width: 100%;
        }

        .button.cart {
            background-color: #5bc0de;
        }

        .button:hover {
            opacity: 0.8;
        }
        .price {
            color: red; /* Màu đỏ */
            font-size: 17px; /* Cỡ chữ to hơn */
            font-weight: bolder; /* Chữ đậm */
            margin-top: 5px; /* Khoảng cách với tên sản phẩm */
            display: block; /* Hiển thị trên 1 dòng riêng */
        }
        .san-pham {
            display: block;
            text-decoration: none;
            color: inherit;
        }

        .san-pham div {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: center;
        }

        /*Table*/
                /* Ảnh sản phẩm (luôn hiển thị) */
                .product-thumbnail_table {
            max-width: 300px;
            cursor: pointer;
        }

        /* Bảng sản phẩm */
        .container_table {
            width: 1200px;
            height: 730px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background: white;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: row;
            align-items: center;
            z-index: 1000;
        }

        /* overlayTB làm mờ nền */
        .overlayTB_table {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 999;
        }

        /* Ảnh bên trái */
        .image-container_table {
            width: 830px;
            height: 730px;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .selected-image_table {
            width: 800px;
            height: 730px;
            object-fit: cover;
        }

        /* Nội dung bên phải */
        .content_table {
            flex: 1;
            padding-left: 20px;
            text-align: left;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
        }

        .container_table * {
            outline: none !important; /* Xóa hoàn toàn focus */
            user-select: none; /* Ngăn chọn văn bản */
        }

        .label_table {
            font-weight: bold;
            margin: 10px 0 5px;
            display: block;
        }

        .options_table {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
        }

        .option_table {
            padding: 8px 12px;
            font-size: 14px;
            text-align: center;
            border: 1px solid #ddd;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            background: white;
        }

        .option_table:hover {
            border-color: #ff5722;
        }

        .option_table.active {
            background-color: #fff5f1;
            border-color: #ff5722;
            color: #ff5722;
            font-weight: bold;
        }

        .price_table {
            font-size: 18px;
            font-weight: bold;
            margin-top: 10px;
            color: #d0021b;
        }

        /* Nút hành động */
        .buttons_table {
            margin-top: 15px;
            margin-bottom: 200px;
            display: flex;
            gap: 10px;
        }

        .button_table {
            width: 190px;
            height: 45px;
            padding: 10px;
            font-size: 14px;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            font-weight: bold;
            transition: 0.2s;
            text-align: center;
        }

        .add-cart_table {
            background: #5bc0de; /* Xanh biển nhạt */
            color: white;
        }

        .buy-now_table {
            background: #d9534f; /* Cam */
            color: white;
        }

        .button_table:hover {
            opacity: 0.8;
        }

        /* Nút đóng */
        .close-btn_table {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            background: none;
            border: none;
        }
        .separator_table {
            border: none;
            border-top: 1px solid #ccc; /* Đường kẻ màu xám */
            width: 100%; /* Chạy ngang toàn bộ phần content */
            margin: 10px 0; /* Khoảng cách trên dưới */
        }

        /*Nút số lượng*/
        .quantity-container {
            display: flex;
            align-items: center;
            gap: 10px; /* Khoảng cách giữa chữ "Số lượng" và input */
            margin-top: 10px;
        }

        .quantity-input {
            width: 60px;
            text-align: center;
            padding: 5px;
            font-size: 16px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        @media (max-width: 1000px) {
            .category {
                width: 38%;
                margin-bottom: 20px;
                margin-right: 20px;
            }
            .categories {
                justify-content: center;
            }
            .header {
                padding: 10px;
                justify-content: flex-start;
            }
            .logo img {
                width: 40px;
                height: 40px;
            }
            .logo h2 {
                font-size: 1.2em;
            }
            .nav {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 60px;
                left: 0;
                background: white;
                width: 200px;
                box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
                padding: 10px;
            }
            .menu-toggle {
                display: block;
                margin-right: 20px;
            }
            .banner {
                height: 300px;
                height: 150%;
            }
            .cart-icon {
                display: block;
                position: absolute;
                right: 30px;
                top: 10px;
                font-size: 30px;
                color: #333;
                cursor: pointer;
                z-index: 1001;
            }
            .cart-icon a {
                text-decoration: none;
                color: inherit;
            }

            #cart-count {
                background: red;
                color: white;
                font-size: 12px;
                border-radius: 50%;
                padding: 2px 6px;
                position: absolute;
                top: -6px;
                right: -18px;
            }
        }
        @media screen and (max-width: 1200px) {
            .container_table {
                width: 80%;
                height: auto;
                padding: 15px;
            }

            .selected-image_table {
                width: 90%;
                max-width: 400px;
                height: auto;
            }
            .separator_table {
                border: none;
                border-top: 1px solid #ccc; /* Đường kẻ màu xám */
                width: 100%; /* Chạy ngang toàn bộ phần content */
                margin-top: 100px;
            }
        }

        @media screen and (max-width: 768px) { 
            .container_table {
                position: fixed;
                top: 100px;
                left: 50%;
                width: 100%;
                background: white;
                border-radius: 15px 15px 0 0;
                padding: 10px;
                flex-direction: column;
                transition: transform 0.4s ease-in-out;
                box-shadow: 0 -2px 10px rgba(240, 237, 237, 0.2);
                max-height: 90vh; /* ✅ Không vượt quá 90% chiều cao màn hình */
                overflow-y: auto;  /* ✅ Cho phép cuộn dọc khi nội dung quá dài */

            }
            
            .container_table.active {
                transform: translate(-50%, 0);  /*Kéo lên nhưng vẫn đủ nội dung */
            }

            .image-container_table {
                width: 100%;
                height: auto;           
            }

            .selected-image_table{
                width: 100%;
                height: 300px;
                display: block;
                margin: auto;
                object-fit: contain;
            }

            .content_table {
                flex: none;
                padding-left: 10px;
                padding-right: 10px;
                font-size: 16px;
                flex:1;
            }

            .price_table {
                font-size: 16px;
                margin-bottom: 2px;
            }

            .button_table {
                width: 280px;   
                font-size: 16px;
                padding: 12px 0;
            }

            .buttons_table {
                padding: 0;
                margin-top: 5px;
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }

            .option_table {
                font-size: 14px;
                margin-left: 5px;
                padding: 6px;
            }

            .separator_table {
                border: none;
                border-top: 1px solid #ccc;  /*Đường kẻ màu xám */
                width: 100%; /* Chạy ngang toàn bộ phần content */
                margin: 20px 0 0; /* Cách phần chọn kích thước 10px */
            }
            .items {
                margin-left: 5px;
                display: flex;
                flex-wrap: wrap;
                justify-content: flex-start;
                gap: 7px;
            }
            .item {
                width: 42%;
            }
            .social-icons {
                display: none !important;
            }
            .social-icons.mobile {
                display: flex !important;
                position: static;
                margin-top: 10px;
                flex-direction: row;
                justify-content: center;
                gap: 80px;
            }
        }

        .no-scroll {
            position: fixed;
            width: 100%;
            height: 100%;
            overflow: hidden !important;
            touch-action: none;
        }
    
        .cookie-container {
            position: fixed;
            top: 40%;
            left: 50%;
            transform: translateX(-50%);
            background:rgb(219, 190, 190);
            color: rgb(235, 223, 223);
            padding: 15px;
            border-radius: 5px;
            display: none; /* Ẩn ban đầu */
            z-index: 1000;
        }

        .cookie-container button {
            margin-left: 10px;
            padding: 5px 10px;
            border: none;
            cursor: pointer;
        }

        #accept-cookie {
            background: rgb(103, 250, 103);
            color: white;
        }

        #decline-cookie {
            background: rgb(248, 220, 220);
            color: white;
        }

        .social-icons {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        .social-icons a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #fff;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .social-icons img {
            width: 24px;
            height: 24px;
        }

    </style>
</head>
<body>
    <div class="header">
        <div class="menu-toggle">☰</div>  
        <div class="logo">
            <img src="11zon_cropped (3).png" alt="Logo Shop Hảo Hà" width="50" height="50">
            <h2>Shop Hảo Hà</h2>
        </div>      
        <div class="nav">
            <a href="index.html">Trang Chủ</a>
            <div class="dropdown">
                <a href="#">Danh Mục Sản Phẩm</a>
                <div class="dropdown-content">
                    <a href="hut-chan-khong.html">Hút Chân Không</a>
                    <a href="co-mang-pof-pvc.html">Co Màng POF/PE</a>
                    <a href="indate-san-pham.html">Indate Sản Phẩm</a>
                    <a href="dong-dai-pp-pet.html">Đóng Đai PP/PET</a>
                </div>
            </div>
            <a href="gui_lien_he.html">Gửi Liên Hệ</a>
            <a href="gio_hang.html">Giỏ Hàng</a>
        </div>
        <div class="cart-icon" id="cart-icon">
            <a href="gio_hang.html">
                🛒 <span id="cart-count">0</span>
            </a>
        </div> 
    </div>
    <div id="cookie-popup" class="cookie-container">
        <p>Chúng tôi sử dụng cookie để cải thiện trải nghiệm của bạn. Bạn có đồng ý không?</p>
        <button id="accept-cookie">Đồng ý</button>
        <button id="decline-cookie">Từ chối</button>
    </div>   

    <div class="banner">
        <h1>Đóng Đai PP/PET</h1>
    </div>
    <div class="marquee">
        <span>Liên hệ SDT/Zalo: 0773759705</span>
    </div>
    <div class="social-icons mobile">
        <a href="https://zalo.me/0773759705" target="_blank">
            <img src="zalo-icon.png" alt="Zalo">
        </a>
        <a href="mailto:shophaoha@gmail.com">
            <img src="gmail-icon.png" alt="Gmail">
        </a>
        <a href="https://m.me/shophaoha" target="_blank">
            <img src="messenger-icon.png" alt="Messenger">
        </a>
    </div>
    <div class="social-icons">
        <a href="https://zalo.me/0773759705" target="_blank">
            <img src="zalo-icon.png" alt="Zalo">
        </a>
        <a href="mailto:shophaoha@gmail.com">
            <img src="gmail-icon.png" alt="Gmail">
        </a>
        <a href="https://m.me/shophaoha" target="_blank">
            <img src="messenger-icon.png" alt="Messenger">
        </a>
    </div>
    
    <div class="content">
        <div class="section">
            <h2>Vật Tư</h2>
            <div class="items">
                <div class="item">
                    <div class="product-thumbnail_table" id="product-thumbnail_day_dai_pp">
                        <a class="san-pham">
                            <img src="Image\dongdai\day_dai_pp_250x290.png" alt="Vật tư 1"  style="transform: scale(1.0); display: block; margin: auto;">
                            <div class="overlay">Xem Chi Tiết</div>
                            <p>Dây Đai PP </p>
                            <p class="price">350.000 VND</p>
                        </a> 
                    </div>
                </div>
                <div class="item">
                    <div class="product-thumbnail_table" id="product-thumbnail_day_dai_pet">
                        <a class="san-pham">
                            <img src="Image\dongdai\day_dai_pet_250x290.png" alt="Vật tư 1" style="transform: scale(1.0); display: block; margin: auto;">
                            <div class="overlay">Xem Chi Tiết</div>
                            <p>Dây Đai PET</p>
                            <p class="price">590.000 VND</p>
                        </a> 
                    </div>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Máy Móc</h2>
            <div class="items">
                <div class="item">
                    <div class="product-thumbnail_table" id="product-thumbnai_dong_dai_jd13">
                        <a class="san-pham">
                            <img src="Image\dongdai\may_dong_dai_250x290.png" alt="Vật tư 1"  style="transform: scale(1.0); display: block; margin: auto;">
                            <div class="overlay">Xem Chi Tiết</div>
                            <p>Máy Đóng Đai JDC 13/16</p>
                            <p class="price">17.000.000 VND</p>
                        </a> 
                    </div>
                </div>
                <div class="item">
                    <div class="product-thumbnail_table" id="product-thumbnail_dong_dai_q31">
                        <a class="san-pham">
                            <img src="Image\dongdai\may_dong_dai_td_250x290.png" alt="Vật tư 1"  style="transform: scale(1.0); display: block; margin: auto;">
                            <div class="overlay">Xem Chi Tiết</div>
                            <p>Máy Đóng Đai Tụ Động Q31</p>
                            <p class="price">38.500.000 VND</p>
                        </a> 
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="overlayTB_table" id="overlayTB"></div>
    <div class="container_table" id="product-options">
        <button class="close-btn_table" id="close-btn">✖</button>
        <div class="image-container_table">
            <img src="" alt="Ảnh sản phẩm" class="selected-image_table" id="selected-image">
        </div>
        <div class="content_table">
            <div>
                <h3 id="product-name"></h3>
                <label id="material-label">Chọn Chất Liệu</label>
                <div id="material-options" class="options_table"></div>
                <label >Chọn Kích Thước</label>
                <div id="size-options" class="options_table"></div>
                <div class="quantity-container">
                    <label for="quantity">Số Lượng</label>
                    <input type="number" id="quantity" class="quantity-input" value="1" min="1">
                </div>
            </div>
            <div>
                <hr class="separator_table">
                <p class="price_table">Giá: <span id="price">0</span> VND</p>
                <div class="buttons_table">
                    <button class="button_table add-cart_table">🛒 Thêm Vào Giỏ Hàng</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import products from'./products.js';
        const dongdai_products = products.dongdai_products;

        const productOptions = document.getElementById("product-options");
        const overlayTB = document.getElementById("overlayTB");
        const selectedImage = document.getElementById("selected-image");
        const productName = document.getElementById("product-name");
        const materialOptions = document.getElementById("material-options");
        const sizeOptions = document.getElementById("size-options");
        const priceDisplay = document.getElementById("price");
        const materialLabel = document.getElementById("material-label");
        const quantityInput = document.getElementById("quantity");

        let selectedMaterial = null;
        let selectedSize = null;
        let selectedProductId = null;

        document.querySelectorAll(".product-thumbnail_table").forEach(thumbnail => {
            thumbnail.addEventListener("click", function () {
                document.querySelector(".container_table").classList.add("active");
            });
        });

        document.getElementById("close-btn").addEventListener("click", () => {
            document.querySelector(".container_table").classList.remove("active");
        });



        document.querySelectorAll(".product-thumbnail_table").forEach(thumbnail => {
        thumbnail.addEventListener("click", function () {
            
            const product = dongdai_products[this.id];
            if (!product) return;

            selectedProductId = this.id;
            selectedMaterial = product.materials.length > 0 ? product.materials[0] : null;
            selectedSize = 0;
            quantityInput.value = 1;

            // Nếu có nhiều loại vật liệu, lấy hình ảnh của loại đầu tiên
            if (Array.isArray(product.image)) {
                selectedImage.src = product.image[0];
            } else if (selectedMaterial) {
                selectedImage.src = product.image[selectedMaterial][0];
            } else {
                selectedImage.src = product.image;
            }

            productName.textContent = product.name;

            // Hiển thị kích thước
            sizeOptions.innerHTML = product.sizes.map((size, index) =>
                `<div class='option_table' data-size='${index}'>${size}</div>`).join('');

            // Hiển thị vật liệu (nếu có)
            if (product.materials.length > 0) {
                materialLabel.style.display = "block";
                materialOptions.innerHTML = product.materials.map((mat) =>
                    `<div class='option_table' data-material='${mat}'>${mat}</div>`).join('');
            } else {
                materialLabel.style.display = "none";
                materialOptions.innerHTML = "";
            }

            // Bắt sự kiện chọn kích thước
            document.querySelectorAll("#size-options .option_table").forEach(option => {
                option.addEventListener("click", function () {
                    document.querySelectorAll("#size-options .option_table").forEach(o => o.classList.remove("active"));
                    this.classList.add("active");
                    selectedSize = parseInt(this.dataset.size);
                    if (Array.isArray(product.image)) {
                        selectedImage.src = product.image[selectedSize];
                    } else if (selectedMaterial && product.image[selectedMaterial]) {
                        selectedImage.src = product.image[selectedMaterial][selectedSize];
                    }
                    quantityInput.value = 1;
                    updatePrice();
                });
            });

            // Bắt sự kiện chọn vật liệu
            document.querySelectorAll("#material-options .option_table").forEach(option => {
                option.addEventListener("click", function () {
                    document.querySelectorAll("#material-options .option_table").forEach(o => o.classList.remove("active"));
                    this.classList.add("active");
                    selectedMaterial = this.dataset.material;
                    
                    // Cập nhật ảnh sản phẩm theo vật liệu mới
                    selectedImage.src = product.image[selectedMaterial][0]; // Lấy ảnh đầu tiên của vật liệu đã chọn
                    if (selectedMaterial) {
                        selectedImage.src = product.image[selectedMaterial][selectedSize]; 
                    }

                    quantityInput.value = 1;
                    updatePrice();
                });
            });

            // Chọn mặc định kích thước & vật liệu đầu tiên
            if (sizeOptions.children.length > 0) {
                sizeOptions.children[0].classList.add("active");
            }

            if (materialOptions.children.length > 0) {
                materialOptions.children[0].classList.add("active");
            }
            
            updatePrice();
            overlayTB.style.display = "block";
            productOptions.style.display = "flex"; 
        });
    });

    function loadCartFromCookie() {
            const cookie = getCookie("cart");
            if (!cookie) return [];
            try {
                return JSON.parse(decodeURIComponent(cookie));
            } catch (e) {
                return [];
            }
        }

        function updateCartIcon() {
            const cartItems = loadCartFromCookie();
            const countEl = document.getElementById("cart-count");

            if (!countEl) return;

            // Hiển thị số loại sản phẩm (số dòng khác nhau trong giỏ hàng)
            countEl.textContent = cartItems.length;
        }

        // Gọi khi trang load
        document.addEventListener("DOMContentLoaded", updateCartIcon);

        // ========== 📌 Thêm vào giỏ hàng ==========
        document.querySelector(".add-cart_table").addEventListener("click", function () {
            let name = document.getElementById("product-name").innerText;
            let quantity = parseInt(document.getElementById("quantity").value);

            let materialEl = document.querySelector("#material-options .active");
            let sizeEl = document.querySelector("#size-options .active");
            let material = materialEl ? materialEl.dataset.material || "Mặc định" : "Mặc định";
            let size = sizeEl ? sizeEl.innerText || "Mặc định" : "Mặc định";
            
            let image = document.getElementById("selected-image").src;
            
            let product = dongdai_products[selectedProductId];
            let price = 0;
            if (product.materials.length > 0 && selectedMaterial) {
                price = product.prices[selectedMaterial][selectedSize];
            } else {
                price = product.prices[selectedSize];
            }
            
            // Lấy category từ sản phẩm dựa trên selectedProductId (đã được gán khi click vào sản phẩm)
            let category = dongdai_products[selectedProductId]?.category || "Không rõ";
            let number = product?.number || 0;
            
            // Lấy cart từ cookie (nếu có)
            let cart = getCookie("cart");
            cart = cart ? JSON.parse(decodeURIComponent(cart)) : [];

            // Sử dụng selectedProductId để so sánh thay vì chỉ name, material, size
            let existingProduct = cart.find(item => item.id === selectedProductId && item.material === material && item.size === size);

            if (existingProduct) {
                existingProduct.quantity += quantity;
            } else {
                cart.push({ id: selectedProductId, name, price, quantity, material, size, image, category, number });
            }

            setCookie("cart", encodeURIComponent(JSON.stringify(cart)), 30);
            alert("Sản phẩm đã được thêm vào giỏ hàng!");
            updateCartIcon();
        });

        function getCookie(name) {
            let cookies = document.cookie.split("; ");
            for (let i = 0; i < cookies.length; i++) {
                let cookie = cookies[i].split("=");
                if (cookie[0] === name) {
                    return cookie[1];
                }
            }
            return null;
        }

        // Hàm thiết lập cookie
        function setCookie(name, value, days) {
            let date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            document.cookie = `${name}=${value}; expires=${date.toUTCString()}; path=/`;
        }

        // Kiểm tra nếu người dùng đã chấp nhận cookie chưa
        window.onload = function () {
            if (!getCookie("cookieConsent")) { 
                // Nếu chưa có cookie xác nhận, hiển thị popup
                document.getElementById("cookie-popup").style.display = "block";
            }
        };

        // Khi bấm "Đồng ý", lưu cookie và ẩn popup
        document.getElementById("accept-cookie").addEventListener("click", function () {
            setCookie("cookieConsent", "true", 365); // Lưu trong 1 năm
            document.getElementById("cookie-popup").style.display = "none";
        });

        // Khi bấm "Từ chối", chỉ ẩn popup, không lưu cookie
        document.getElementById("decline-cookie").addEventListener("click", function () {
            document.getElementById("cookie-popup").style.display = "none";
        });

        document.querySelector(".menu-toggle").addEventListener("click", function () {
            document.querySelector(".nav").classList.toggle("show");
        });

        document.getElementById("close-btn").addEventListener("click", () => {
            productOptions.style.display = "none";
            overlayTB.style.display = "none";
        });

        document.getElementById("quantity").addEventListener("input", updatePrice);

        function updatePrice() {
            const product = dongdai_products[selectedProductId];
            if (!product) return;

            let price = "Liên Hệ";
            if (selectedSize !== null) {
                if (product.materials.length > 0 && selectedMaterial) {
                    price = product.prices[selectedMaterial][selectedSize];
                } else {
                    price = product.prices[selectedSize];
                }
            }

            const quantity = parseInt(document.getElementById("quantity").value) || 1;
            const totalPrice = price * quantity;

            priceDisplay.textContent = totalPrice.toLocaleString('vi-VN');
        }

        let scrollPosition = 0;

        document.querySelectorAll(".product-thumbnail_table").forEach(thumbnail => {
            thumbnail.addEventListener("click", function () {
                scrollPosition = window.scrollY; // Lưu vị trí cuộn hiện tại
                document.body.style.position = "fixed";
                document.body.style.top = `-${scrollPosition}px`; 
                document.body.style.width = "100%";
                document.querySelector(".container_table").classList.add("active");
            });
        });

        document.getElementById("close-btn").addEventListener("click", () => {
            document.querySelector(".container_table").classList.remove("active");
            document.body.style.position = ""; 
            document.body.style.top = ""; 
            window.scrollTo(0, scrollPosition); // Quay lại đúng vị trí cuộn trước đó
        });
    </script>   
</body>
</html>
